import{r as f,j as e,H as $}from"./index-j_uuXqsp.js";const N=["R","T1","T2","I"],k={R:"Reproductie",T1:"Toepassingsniveau 1",T2:"Toepassingsniveau 2",I:"Inzicht"},P=()=>{const x=Array.from({length:20},(c,n)=>{const d=N[Math.floor(Math.random()*N.length)],i=Math.floor(Math.random()*4)+1;return{id:n+1,title:`Vraag ${n+1}`,category:d,maxScore:i,mostGivenAnswer:`Antwoord ${String.fromCharCode(65+Math.floor(Math.random()*4))}`,correctPercentage:Math.floor(Math.random()*50)+50}}),a=["Sanne de Vries","Mohammed El Amrani","Daan Bakker","Fatima Yilmaz","Lieke van Dijk","Jayden Jansen","Fleur de Boer","Bram Visser","Aisha Özdemir","Thomas Mulder","Elin Zhang","Noah van der Meer","Sofia Rodriguez","Sam de Groot","Noor van Leeuwen"].map((c,n)=>{let d=0,i=0;const r=x.map(l=>{const m=Math.floor(Math.random()*(l.maxScore+1));return d+=m,i+=l.maxScore,{questionId:l.id,score:m,maxScore:l.maxScore,answer:`Antwoord ${String.fromCharCode(65+Math.floor(Math.random()*4))}`,correct:m===l.maxScore}}),j=d/i*100,o=Math.max(1,Math.min(10,j/100*9+1)).toFixed(1);return{id:n+1,name:c,questionScores:r,totalScore:d,maxPossibleScore:i,grade:o}});return{questions:x,students:a}},I=(x,u)=>N.map(c=>{const n=x.filter(o=>o.category===c),d=n.reduce((o,l)=>o+l.maxScore,0),r=u.reduce((o,l)=>{const m=l.questionScores.filter(g=>n.some(h=>h.id===g.questionId));return o+m.reduce((g,h)=>g+h.score,0)},0)/u.length,j=d>0?r/d*100:0;return{category:c,fullName:k[c],questionCount:n.length,maxPossibleScore:d,averageScore:r.toFixed(1),averagePercentage:j.toFixed(1)}}),G=()=>{const[x,u]=f.useState(null),[a,c]=f.useState(null),[n,d]=f.useState("rapportage");if(f.useEffect(()=>{const s=P(),t=I(s.questions,s.students);u({...s,rttiStats:t})},[]),!x)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Laden..."});const{questions:i,students:r,rttiStats:j}=x,o=(r.reduce((s,t)=>s+parseFloat(t.grade),0)/r.length).toFixed(1),l=i.reduce((s,t)=>s+t.maxScore,0),m=parseFloat((r.reduce((s,t)=>s+t.totalScore,0)/r.length).toFixed(1)),g=(m/l*100).toFixed(1),h={R:"#4169E1",T1:"#FF6347",T2:"#32CD32",I:"#FFD700"},v=(s,t)=>t.grade-s.grade,y=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 transform hover:scale-105 transition-transform",children:[e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Gemiddeld cijfer"}),e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"text-5xl font-bold text-blue-600",children:o}),e.jsx("span",{className:"text-gray-500 ml-2 mb-1",children:"/ 10"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("div",{className:"text-sm text-gray-600",children:parseFloat(o)>=5.5?`${Math.round(r.filter(s=>parseFloat(s.grade)>=5.5).length/r.length*100)}% voldoendes`:`${Math.round(r.filter(s=>parseFloat(s.grade)<5.5).length/r.length*100)}% onvoldoendes`})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 transform hover:scale-105 transition-transform",children:[e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Gemiddelde score"}),e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"text-5xl font-bold text-green-600",children:m}),e.jsxs("span",{className:"text-gray-500 ml-2 mb-1",children:["/ ",l," punten"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${g}%`}})})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 transform hover:scale-105 transition-transform",children:[e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Percentage behaald"}),e.jsx("div",{className:"flex items-end",children:e.jsxs("span",{className:"text-5xl font-bold text-purple-600",children:[g,"%"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Hoogste individuele score: ",Math.max(...r.map(s=>s.totalScore/s.maxPossibleScore*100)).toFixed(1),"%"]})})]})]}),w=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"RTTI Categorieën"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:j.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold mr-3 text-lg",style:{backgroundColor:h[s.category]},children:s.category}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:s.fullName}),e.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:[s.questionCount," ",s.questionCount===1?"vraag":"vragen"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Gemiddelde score:"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.averageScore," / ",s.maxPossibleScore]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"h-4 rounded-full transition-all duration-500",style:{width:`${s.averagePercentage}%`,backgroundColor:h[s.category]}})}),e.jsxs("p",{className:"text-sm mt-1 text-right font-semibold",children:[s.averagePercentage,"%"]})]})]},s.category))})]}),S=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 h-full",children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-800",children:"Leerlingen"}),e.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 rounded-md",children:[e.jsx("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Naam"}),e.jsx("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Cijfer"}),e.jsx("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Score"})]})}),e.jsx("tbody",{children:r.sort(v).map(s=>e.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer transition-colors ${a&&a.id===s.id?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>c(s),children:[e.jsx("td",{className:"py-3 px-4",children:s.name}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`font-bold py-1 px-2 rounded-md text-white ${parseFloat(s.grade)>=5.5?"bg-green-500":"bg-red-500"}`,children:s.grade})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:`h-2 rounded-full ${parseFloat(s.grade)>=5.5?"bg-green-500":"bg-red-500"}`,style:{width:`${s.totalScore/s.maxPossibleScore*100}%`}})}),e.jsxs("span",{className:"text-xs whitespace-nowrap",children:[s.totalScore,"/",s.maxPossibleScore]})]})})]},s.id))})]})})]}),T=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a?`Vragen - ${a.name}`:"Vragen - Klasgemiddelde"}),a&&e.jsxs("button",{className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-600 px-4 py-2 rounded-md text-sm font-medium transition-colors",onClick:()=>c(null),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Terug naar klasoverzicht"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:i.map(s=>{const t=a?a.questionScores.find(p=>p.questionId===s.id):{score:(r.reduce((p,F)=>p+F.questionScores.find(M=>M.questionId===s.id).score,0)/r.length).toFixed(1),answer:s.mostGivenAnswer,correct:!1},b=parseFloat((t.score/s.maxScore*100).toFixed(0));return e.jsxs("div",{className:"bg-white rounded-lg border hover:shadow-md transition-shadow p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold",children:s.title}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-md text-white font-bold",style:{backgroundColor:h[s.category]},children:s.category})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Score:"}),e.jsx("span",{className:"text-sm font-bold",children:a?`${t.score} / ${s.maxScore}`:`Gem: ${t.score} / ${s.maxScore}`})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${b>70?"bg-green-500":b>40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${b}%`}})})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Antwoord:"}),e.jsx("span",{children:t.answer})]}),a&&e.jsxs("div",{className:`flex justify-between text-sm ${t.correct?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{children:t.correct?"✓ Correct":"✗ Incorrect"})]}),!a&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"% Correct:"}),e.jsxs("span",{children:[s.correctPercentage,"%"]})]})]})]},s.id)})})]}),C=()=>e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:w-1/4 xl:w-1/5",children:S()}),e.jsx("div",{className:"lg:w-3/4 xl:w-4/5",children:T()})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($,{currentTab:n,setCurrentTab:d}),e.jsxs("main",{className:"w-full px-4 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"RTTI Rapportage"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Overzicht van toetsresultaten"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"RTTI Toets"}),e.jsx("div",{className:"bg-blue-100 rounded-md px-3 py-1",children:e.jsx("span",{className:"text-blue-800 font-medium",children:"Hoofdstuk 5"})})]})]}),!a&&y(),!a&&w(),e.jsx("div",{className:"mt-8",children:C()})]})]})};export{G as default};
